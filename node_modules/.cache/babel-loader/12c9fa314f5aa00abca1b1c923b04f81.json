{"ast":null,"code":"import _defineProperty from\"/Users/kushan/Desktop/react_blog/signupbackend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/kushan/Desktop/react_blog/signupbackend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kushan/Desktop/react_blog/signupbackend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kushan/Desktop/react_blog/signupbackend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kushan/Desktop/react_blog/signupbackend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{useState}from\"react\";import{Link}from'react-router-dom';import{Redirect,Route}from'react-router-dom';import{Container,Col,Form,FormGroup,Label,Input,Button,FormText}from'reactstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreatePost=/*#__PURE__*/function(_Component){_inherits(CreatePost,_Component);var _super=_createSuper(CreatePost);function CreatePost(props){var _this;_classCallCheck(this,CreatePost);_this=_super.call(this,props);_this.state={username:'',title:'',description:'',body:'',loggedIn:'',user:'none',submit:false};_this.handleChange=function(event){var target=event.target;var name=target.name;var value=target.value;_this.setState(_defineProperty({},name,value));};_this.componentDidMount=function(){var log=localStorage.getItem('user');if(log){_this.setState({user:log});_this.setState({loggedIn:true});}};_this.onSubmit=function(event){event.preventDefault();var payload={username:_this.state.user,title:_this.state.title,description:_this.state.description,body:_this.state.body};axios.post('http://localhost:4000/app/new',payload).then(function(Response){return console.log(Response.data);});_this.setState({title:'',username:'',description:'',body:'',submit:true});};return _this;}_createClass(CreatePost,[{key:\"render\",value:function render(){if(this.state.user==='none'){return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5 col-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"oops\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Please login to create a new Post\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"link\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning\",children:/*#__PURE__*/_jsx(Link,{to:\"/signin\",children:\"Login\"})})})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"log\",children:/*#__PURE__*/_jsxs(Form,{className:\"form\",onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{children:\"Username\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Username\",name:\"username\",onChange:this.handleChange,value:this.state.user})]})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{children:\"Title\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"A good title\",name:\"title\",onChange:this.handleChange,value:this.state.title})]})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{children:\"Description\"}),/*#__PURE__*/_jsx(Input,{name:\"description\",placeholder:\"Short Description\",onChange:this.handleChange,value:this.state.description})]})}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{children:\"Body\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",name:\"body\",placeholder:\"Write your thoughts\",onChange:this.handleChange,value:this.state.body})]}),/*#__PURE__*/_jsx(FormText,{children:/*#__PURE__*/_jsx(\"b\",{children:this.state.maybe})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container mt-3 \",children:/*#__PURE__*/_jsx(Button,{outline:true,color:\"danger\",children:\"Submit\"})})]})});}}]);return CreatePost;}(Component);export default CreatePost;","map":{"version":3,"sources":["/Users/kushan/Desktop/react_blog/signupbackend/client/src/components/posts/create.js"],"names":["React","Component","axios","useState","Link","Redirect","Route","Container","Col","Form","FormGroup","Label","Input","Button","FormText","CreatePost","props","state","username","title","description","body","loggedIn","user","submit","handleChange","event","target","name","value","setState","componentDidMount","log","localStorage","getItem","onSubmit","preventDefault","payload","post","then","Response","console","data","maybe"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport { useState } from \"react\";\nimport { Link } from 'react-router-dom'\nimport { Redirect, Route } from 'react-router-dom';\nimport {\n    Container, Col, Form,\n    FormGroup, Label, Input,\n    Button,\n    FormText,\n} from 'reactstrap';\nclass CreatePost extends Component {\n    constructor(props) {\n        super(props)\n    }\n    state = {\n        username: '',\n        title: '',\n        description: '',\n        body: '',\n        loggedIn: '',\n        user: 'none',\n        submit: false\n\n    };\n    handleChange = (event) => {\n        const target = event.target;\n        const name = target.name;\n        const value = target.value;\n        this.setState({\n            [name]: value\n        });\n    };\n    componentDidMount = () => {\n        const log = localStorage.getItem('user')\n        if (log) {\n            this.setState({ user: log })\n            this.setState({ loggedIn: true })\n        }\n    }\n    onSubmit = (event) => {\n        event.preventDefault()\n\n        const payload = {\n            username: this.state.user,\n            title: this.state.title,\n            description: this.state.description,\n            body: this.state.body\n\n\n\n        };\n\n        axios.post('http://localhost:4000/app/new', payload)\n            .then(Response => console.log(Response.data))\n\n\n\n        this.setState({\n            title: '',\n            username: '',\n            description: '',\n            body: '',\n            submit: true\n\n        })\n\n    };\n    render() {\n        if (this.state.user === 'none') {\n            return (\n                <div className=\"container mt-5 col-6\">\n                    <div className=\"oops\">\n                        <h1>Please login to create a new Post</h1>\n\n                    </div>\n                    <div className=\"link\">\n                        <button className=\"btn btn-warning\"><Link to='/signin'>Login</Link></button>\n                    </div>\n                </div>\n            )\n        }\n\n        return (\n            <div className=\"log\">\n\n\n                <Form className=\"form\" onSubmit={this.onSubmit} >\n\n                    <Col>\n                        <FormGroup>\n                            <Label>Username</Label>\n                            <Input\n                                type='text'\n                                placeholder='Username'\n                                name=\"username\"\n                                onChange={this.handleChange}\n                                value={this.state.user}\n                            />\n\n                        </FormGroup>\n                    </Col>\n                    <Col>\n                        <FormGroup>\n                            <Label>Title</Label>\n                            <Input\n                                type='text'\n                                placeholder='A good title'\n                                name=\"title\"\n                                onChange={this.handleChange}\n                                value={this.state.title}\n                            />\n\n                        </FormGroup>\n                    </Col>\n                    <Col>\n                        <FormGroup>\n                            <Label>Description</Label>\n                            <Input\n                                name=\"description\"\n                                placeholder='Short Description'\n                                onChange={this.handleChange}\n                                value={this.state.description}\n                            />\n                        </FormGroup>\n                    </Col>\n                    <Col>\n                        <FormGroup>\n                            <Label>Body</Label>\n                            <Input\n                                type=\"password\"\n                                name=\"body\"\n                                placeholder='Write your thoughts'\n                                onChange={this.handleChange}\n                                value={this.state.body}\n                            />\n                        </FormGroup>\n                        <FormText><b>{this.state.maybe}</b></FormText>\n                    </Col>\n                    <div className='container mt-3 '>\n                        <Button outline color=\"danger\">Submit</Button>\n                    </div>\n                </Form>\n\n            </div>\n\n        )\n    }\n}\n\nexport default CreatePost"]},"metadata":{},"sourceType":"module"}